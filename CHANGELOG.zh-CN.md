# 更新日志

所有重要的项目变更都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [已发布]

### v2.6.1 - 2025-10-19

#### 修复

- 修复获取用户信息、获取菜单接口访问无效地址重复调用问题
- 修复 ElButton circle 模式样式
- 修复 ElSelect 无法通过键盘选择问题
- 修复带参数静态路由跳转登录页面问题

#### 优化

- 升级部分依赖兼容 tailwindcss
- 优化外部链接菜单点击选中状态
- 授权页增加主题色切换功能

---

### v2.6.0 - 2025-10-16

#### 新增

- 扩展注册、密码重置页面顶部组件支持

#### 优化

- 优化精简版本菜单数据结构，提升数据一致性
- 优化本地开发环境网络请求代理配置
- 优化 ElTree 组件默认样式
- 新增 VsCode 推荐插件相关配置
- 优化 ElDropdown 组件点击触发模式下的交互样式
- 优化菜单过滤逻辑
- 优化页面切换动画，提升加载速度
- 优化暗黑模式文字颜色

#### 修复

- 修复静态路由自定义首页路径首次访问跳转登录页问题
- 修复退出登录时短暂跳转至 500 页的问题
- 修复 v2.5.9 版本首页路由跳转配置失效问题
- 修复 v2.5.9 自动导包机制导致的构建异常

#### ⚠️ 重要提示

> 此版本需要重新登录

---

### v2.5.9 - 2025-10-12

#### 代码优化

- views 文件目录、文件名、代码优化
- useTable 分页请求字段增加全局配置 tableConfig.ts
- 优化路由配置为模块化结构
- 获取菜单接口使用 apifox mock 数据（需在 .env 中将 VITE_ACCESS_MODE 设为 backend 模式）

---

### v2.5.8 - 2025-09-29

#### 升级

- vue、vite、element-plus 等核心库升级

#### 修复

- 修复富文本编辑器全屏顶栏层级问题
- 修复表格列排序组件文字溢出问题
- 修复统计卡片条件判断
- 修复根路径 / 与 HOME_PAGE_PATH 同为 / 时出现的无限重定向

#### 优化

- 优化 el-tag 样式
- 优化顶部进度条颜色
- 优化自定义主题配置
- 优化 ElementPlus 自定义主题问题

#### ⚠️ 重要提示

> 由于项目依赖升级，node 版本需要升级到 v20.19.0 或以上

---

### v2.5.7 - 2025-09-14

#### 新增

- 新增 ArtForm 组件

#### 修复

- 修复新版本谷歌浏览器切换主题闪烁问题

#### 优化

- 优化表单 label 高度没有对齐问题
- 首屏启动性能优化

---

### v2.5.6 - 2025-09-06

#### 新增

- ArtTableHeader 新增搜索按钮，用于控制顶部搜索栏的显示与隐藏
- 新增权限演示示例
- 添加全局错误处理基础框架

#### 优化

- useTable 类型推导优化，不需要手动传递类型即可实现类型提示
- useTable removeColumn 支持多数据删除
- useTable 自动识别响应体支持自定义配置 (src/utils/table/tableConfig.ts)
- useTable 空数据浏览器警告优化
- api 接口请求代码优化、api.d.ts 类型优化
- 优化 ArtTable 顶部按钮换行无法自适应问题（示例：功能示例 / 左右布局表格）
- ArtTable 分页组件选中样式优化
- ArtTable 空状态高度默认撑满
- ArtButtonMore 组件新增图标、颜色配置
- ArtSearchBar label 为空时不占空间
- 表格操作栏拖拽禁止固定列拖拽
- 角色管理页面接口对接、代码优化
- 菜单管理页面优化
- 优化设置中心滚动页面跟随滚动问题
- 一级路由是外链时，component 校验逻辑优化
- 优化地图右下角拖动问题
- 优化暗黑模式刷新页面白色背景问题
- 优化左侧菜单折叠按钮间距问题
- 移动端显示左侧菜单 logo
- 网络请求新增 showSuccessMessage，用于配置是否显示成功消息
- 全局组件采用异步加载策略，提升首屏加载性能

#### 修复

- 修复批量删除整页数据没有返回上一页的bug
- 修复动态路由参数导致的问题
- 修复动态路由配置一级路由是 iframe 页面时，全屏问题

---

### v2.5.5 - 2025-08-17

#### 新增

- 新增 ArtSearchBar 组件示例
- useTable 新增 excludeParams，用于排除某些参数不参与请求

#### 重构

- 重构 ArtSearchBar 组件，支持更多组件、表单校验等能力

#### 优化

- useTable 列配置：支持动态更新能力
- 优化颜色选择器圆角
- el-radio、el-checkbox 统一大小
- art-stats-card 新增小数位、分隔符配置
- 路由配置示例优化
- 高级表格新增自定义获取数据示例（等待其他请求完成后执行 useTable 数据获取）
- 优化路径别名类型问题
- 本地开发跨域配置优化
- useTable 属性、方法命名优化
- 登录页UI升级
- 403、404、500 页面UI升级

#### 修复

- 修复多个富文本编辑器图标不统一问题
- 修复 useTable 删除最后一整页数据没有返回上一页的问题
- 修复 echarts 图表数据初始化、更新数据浏览器报错
- 网络请求支持 http 状态码为 401 时退出登录
- 优化网络请求退出登录多次提示问题

#### 移除

- 删除 art-chart-empty 组件

---

### v2.5.4 - 2025-07-27

#### 新增

- 网络请求 headers 支持自定义配置
- 展开行支持 formatter 渲染

#### 优化

- 路由注册新增 component 校验

#### 修复

- 修复获取用户信息接口时序问题导致路由注册菜单渲染错误bug
- 修复动态路由校验问题导致的 iframe 不显示bug
- 修复 reset 文件语法错误
- 修复 ArtTable 数据类型错误
- 修复地图滚轮滚动放大问题

---

### v2.5.3 - 2025-07-20

#### 新增

- 新增表格左右布局示例

#### 重构

- ArtTable 组件重构

#### 升级

- Element Plus 升级到 v2.10.2

#### 优化

- 优化 useTable 分页参数问题
- 优化网络请求示例：初始化参数、分页携带参数问题
- 优化搜索日期范围参数处理
- 优化 el-date-picker 组件圆角问题
- 优化 el-select 组件 hover 样式
- 搜索组件、分页组件高度降低
- 优化登录页面滑块动画间隔时长
- 优化菜单没有子菜单显示的问题

#### 修复

- 修复 ArtTable 切换分页大小时执行两次请求bug

---

### v2.5.2 - 2025-07-13

#### 新增

- 新增一键精简脚本，快速准备开发环境
- useTable hooks 支持分页字段名自定义映射
- 水平菜单、混合菜单、双列菜单支持徽章显示
- 快速入口支持配置文件模式
- 顶栏功能支持配置文件模式
- 支持自定义首页路径
- 路由支持配置 redirect 等属性

#### 优化

- 全局事件总线 mittBus 类型安全优化
- 优化移动端设置中容器宽度样式
- 优化登录页验证滑块文字居中效果

#### 修复

- 修复表格无数据时表头不显示问题
- 修复 v2.5.0 顶部进度条不显示问题
- 修复左侧菜单遮罩异常显示问题
- 修复隐藏所有子菜单时仍显示父级菜单的问题
- 修复 stylelint 导致的登录页滑块样式异常
- 修复老旧移动端设备 loading 定位问题

---

### v2.5.1 - 2025-07-08

#### 优化

- el-card、el-table 背景色跟系统保持一致

#### 修复

- 修复首次登录系统时 loading 提前关闭bug
- 修复 v2.5.0 版本引起的全屏页样式层级过低bug
- 修复 v2.5.0 版本引起的表格展开行折叠bug

---

### v2.5.0 - 2025-07-06 🎉

#### 新增

- 新增 useTable hooks 表格封装，支持数据获取、转换、响应适配、智能缓存（基于 LRU 算法）、错误处理、列配置与插槽、分页控制、刷新策略等核心功能，全面提升开发效率与用户体验

#### 重构

- 重构 ArtTable、ArtTableHeader、ArtNotification 组件

#### 升级

- Echarts 版本升级到 5.6.0

#### 移除

- 移除 CountTo 插件，替换为 ArtCountTo 组件

#### 修复

- 修复菜单管理搜索直接修改 pinia 数据的问题
- 修复路由守卫 loading 闪烁问题

#### ⚠️ 重要提示

> 建议升级，带来更高效、更智能的表格开发体验

---

### v2.4.2.9 - 2025-07-02

#### 重构

- 菜单布局、顶部导航代码重构

#### 优化

- 优化移动端菜单滚动用户体验
- 优化顶部菜单样式问题
- 顶部菜单宽度自适应，可显示更多内容，混合菜单支持鼠标滚动
- asyncRoutes 路由配置 auth_mark 字段改为 authMark
- 去除重复的 components.d.ts 文件，components.d.ts、auto-imports.d.ts 忽略提交
- 优化国际化语言文件加载方式，异步改成同步模式
- 优化 el-pagination 大小不一致问题

#### 修复

- 修复移动端锁屏页部分浏览器无法解锁bug

---

### v2.4.2.8 - 2025-06-26

#### 修复

- 修复 v2.4.2.7 版本访问 / 路径时显示 404 的问题

---

### v2.4.2.7 - 2025-06-25

#### 新增

- 路由支持配置全屏模式
- 路由支持自动跳转到菜单的第一个有效路由
- 动态路由新增 removeAllDynamicRoutes 方法，可用于彻底清除所有动态路由
- 权限自定义指令优化、新增角色权限指令 v-roles、可用于控制元素的显示与隐藏
- 新增标签页操作示例

#### 优化

- 跨域请求携带 cookie 配置从环境变量中获取，默认关闭
- 针对SEO、可访问性做一些优化

#### 修复

- 修复登录页面拖拽组件 ArtDragVerify 宽度、颜色异常bug
- 修复 iframe 页面混合模式、双列模式异常bug
- 优化锁屏页面被 el-loading 穿透bug

---

### v2.4.2.6 - 2025-06-23

#### 重构

- 重构 components/core/forms 文件夹下的表单相关组件，提升可维护性与一致性
- 重构 ArtBreadcrumb 面包屑导航组件，优化逻辑结构与样式
- 重构 ArtFireworksEffect 烟花效果组件，显著提升渲染性能与动画流畅度

#### 优化

- 优化 ArtChatWindow 与 ArtFastEnter 组件代码，提升可读性与性能

#### 新增

- README 文档新增官方网站链接，便于用户查看项目文档

---

### v2.4.2.5 - 2025-06-22

#### 重构

- 重构图表组件，优化代码结构与可维护性
- 精细调整图表动画与主题配色方案，提升视觉一致性

---

### v2.4.2.4 - 2025-06-18

#### 重构

- ArtMenuRight 组件重构
- components/core/cards 下面的组件重构，代码优化

#### 优化

- ArtWatermark 增加类型注释

---

### v2.4.2.3 - 2025-06-18

#### 重构

- ArtResultPage 组件重构

#### 优化

- ArtTextScroll 组件代码优化
- ArtException 组件增加类型提示
- ArtCutterImg 组件样式优化、增加类型定义
- ArtVideoPlayer 组件增加类型定义

---

### v2.4.2.2 - 2025-06-16

#### 重构

- 返回顶部组件重构
- 图标选择器组件重构

#### 修改

- 系统Logo组件属性变更

---

### v2.4.2.1 - 2025-06-16

#### 重构

- 横幅组件重构以及优化

#### 修复

- 修复混合菜单下第一个菜单是嵌套菜单跳转bug

---

### v2.4.2 - 2025-06-14

#### 重构

- 重构网络请求模块，增强错误处理、类型安全与多语言支持

#### 新增

- 路由配置新增 activePath 激活菜单路径属性

#### 优化

- 引导、列设置多语言完善
- 去除用户列表、菜单管理页面无效代码
- 更新技术支持链接

#### 修复

- 修复移动端搜索栏无法滚动、iPad端页面滚动异常问题
- 修复 el-dialog 启用 draggable 属性后，自定义动画失效的问题
- 修复 2.3.0 版本本地存储重构后，导致登录、注册等页面多语言设置无法持久化的问题
- 修复表格固定列不起作用bug
- 修复根路径 / 与 HOME_PAGE_PATH 同为 / 时出现的无限重定向

#### ⚠️ 重要提示

> 此版本需要重新登录

---

### v2.4.1.1 - 2025-06-07

#### 优化

- 优化角色管理页面代码
- el-dialog视觉效果优化，支持配置线条
- 系统主题模式从Light改成跟随系统模式

#### 修复

- 修复菜单管理折叠 bug
- 修复表格数据为空高度无限变大bug

---

### v2.4.1 - 2025-06-07

#### 新增

- 锁屏状态下禁止使用开发者工具破解锁屏

#### 优化

- 提升菜单操作跟手感
- 页面入场动画时间减少0.04s
- Echarts 图表性能优化，新增可视区域初始化、内存泄漏防护、防抖处理

#### 修复

- 修复 Echarts 图表组件在弹窗中不显示的 bug

---

### v2.4.0 - 2025-06-06 🎉

#### 重构

- 全局 TypeScript 类型体系重构，提升类型准确性与可维护性
- 重构 utils 工具包，统一工具方法结构，增强可读性与复用性

#### 新增

- utils 新增表单验证与 Cookie 操作相关工具函数
- 页面组件增加 defineOptions，明确组件命名
- HTTP 请求增加 token 过期自动处理逻辑，提升安全性与用户体验

#### 优化

- 删除未使用的工具模块与无效资源，精简项目体积
- 优化 views 页面结构，移除冗余页面文件
- 异常页面多语言支持, 提升国际化体验
- 图片资源统一转换为 webp 格式，整体资源体积减少约 50%
- 打包产物减少约 1MB，提高加载效率

#### ⚠️ 重要提示

> 此版本需要重新登录

---

## 版本说明

### 版本号规则

本项目遵循 [语义化版本 2.0.0](https://semver.org/lang/zh-CN/) 规范：

- **主版本号（Major）**：当你做了不兼容的 API 修改
- **次版本号（Minor）**：当你做了向下兼容的功能性新增
- **修订号（Patch）**：当你做了向下兼容的问题修正

### 变更类型

- **新增（Added）**：新功能
- **修改（Changed）**：对现有功能的变更
- **弃用（Deprecated）**：即将移除的功能
- **移除（Removed）**：已移除的功能
- **修复（Fixed）**：Bug 修复
- **安全（Security）**：安全相关的修复
- **优化（Optimized）**：性能优化或体验优化
- **重构（Refactored）**：代码重构
- **升级（Upgraded）**：依赖升级

### 重要提示标记

- 🎉 **重大更新**：包含重要新特性的版本
- ⚠️ **破坏性变更**：需要特别注意的不兼容更新
- 🔒 **安全更新**：修复安全漏洞的版本

---

## 贡献指南

如果你想为项目做出贡献，请查看 [CONTRIBUTING.md](./CONTRIBUTING.md)。

## 许可证

[MIT License](./LICENSE)

---

**注意**：本更新日志从 v2.4.0 版本开始记录。更早的版本历史请查看 Git 提交记录。

---

[English Version](./CHANGELOG.en.md)
