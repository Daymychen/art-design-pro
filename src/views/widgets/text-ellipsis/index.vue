<template>
  <div class="page-content mb-5">
    <div class="mb-15 text-center">
      <h1 class="my-4 text-2xl font-semibold leading-tight">æ–‡æœ¬çœç•¥ç»„ä»¶æ¼”ç¤º</h1>
      <p class="m-0 text-base leading-relaxed text-gray-700 dark:text-gray-300">
        åŸºäº ElText å’Œ VueTippy çš„æ™ºèƒ½æ–‡æœ¬çœç•¥ç»„ä»¶ï¼Œæ”¯æŒå•è¡Œ/å¤šè¡Œçœç•¥ï¼Œè‡ªåŠ¨æ˜¾ç¤º Tooltip
      </p>
      <el-link
        class="mt-2"
        href="https://github.com/Daymychen/art-design-pro/tree/main/src/views/widgets/text-ellipsis/index.vue"
        target="_blank"
      >
        ä»£ç ä½ç½® src/views/widgets/text-ellipsis/index.vue
      </el-link>
    </div>

    <!-- åŸºç¡€ç”¨æ³• -->
    <div class="mb-15">
      <h2 class="m-0 mb-6 text-xl font-medium">åŸºç¡€ç”¨æ³•</h2>
      <div class="space-y-4">
        <div class="art-card-sm p-5">
          <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">å•è¡Œçœç•¥</h3>

          <!-- å®½åº¦æ§åˆ¶å™¨ -->
          <div
            class="mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded"
          >
            <div class="flex items-center gap-4 mb-2">
              <span class="text-sm font-medium text-blue-800 dark:text-blue-300 w-24"
                >å®¹å™¨å®½åº¦ï¼š</span
              >
              <ElSlider
                v-model="containerWidth"
                :min="100"
                :max="800"
                :step="10"
                show-input
                class="flex-1"
              />
            </div>
            <div class="text-xs text-blue-600 dark:text-blue-400">
              ğŸ’¡ æ‹–åŠ¨æ»‘å—è°ƒæ•´å®¹å™¨å®½åº¦ï¼Œè§‚å¯Ÿæ–‡æœ¬çœç•¥æ•ˆæœ
            </div>
          </div>

          <div class="space-y-3">
            <div class="flex items-start gap-4">
              <span class="text-sm text-gray-600 dark:text-gray-400 w-20 flex-shrink-0 pt-3"
                >é»˜è®¤ï¼š</span
              >
              <div
                class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
                :style="{ width: containerWidth + 'px' }"
              >
                <ArtTextEllipsis :text="longText" />
              </div>
            </div>
            <div class="flex items-start gap-4">
              <span class="text-sm text-gray-600 dark:text-gray-400 w-20 flex-shrink-0 pt-3"
                >Primaryï¼š</span
              >
              <div
                class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
                :style="{ width: containerWidth + 'px' }"
              >
                <ArtTextEllipsis :text="longText" type="primary" />
              </div>
            </div>
            <div class="flex items-start gap-4">
              <span class="text-sm text-gray-600 dark:text-gray-400 w-20 flex-shrink-0 pt-3"
                >Successï¼š</span
              >
              <div
                class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
                :style="{ width: containerWidth + 'px' }"
              >
                <ArtTextEllipsis :text="longText" type="success" />
              </div>
            </div>
          </div>
        </div>

        <div class="art-card-sm p-5">
          <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">å¤šè¡Œçœç•¥</h3>

          <!-- å®½åº¦æ§åˆ¶å™¨ -->
          <div
            class="mb-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded"
          >
            <div class="flex items-center gap-4 mb-2">
              <span class="text-sm font-medium text-green-800 dark:text-green-300 w-24"
                >å®¹å™¨å®½åº¦ï¼š</span
              >
              <ElSlider
                v-model="multilineWidth"
                :min="200"
                :max="800"
                :step="10"
                show-input
                class="flex-1"
              />
            </div>
            <div class="text-xs text-green-600 dark:text-green-400">
              ğŸ’¡ è°ƒæ•´å®¹å™¨å®½åº¦ï¼Œè§‚å¯Ÿå¤šè¡Œæ–‡æœ¬çœç•¥æ•ˆæœ
            </div>
          </div>

          <div class="space-y-3">
            <div>
              <div class="text-xs text-gray-600 dark:text-gray-400 mb-2">2 è¡Œçœç•¥ï¼š</div>
              <div
                class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
                :style="{ width: multilineWidth + 'px' }"
              >
                <ArtTextEllipsis :text="veryLongText" multiline :line-clamp="2" />
              </div>
            </div>
            <div>
              <div class="text-xs text-gray-600 dark:text-gray-400 mb-2">3 è¡Œçœç•¥ï¼š</div>
              <div
                class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
                :style="{ width: multilineWidth + 'px' }"
              >
                <ArtTextEllipsis :text="veryLongText" multiline :line-clamp="3" />
              </div>
            </div>
            <div>
              <div class="text-xs text-gray-600 dark:text-gray-400 mb-2">4 è¡Œçœç•¥ï¼š</div>
              <div
                class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
                :style="{ width: multilineWidth + 'px' }"
              >
                <ArtTextEllipsis :text="veryLongText" multiline :line-clamp="4" type="primary" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ä¸åŒå°ºå¯¸ -->
    <div class="mb-15">
      <h2 class="m-0 mb-6 text-xl font-medium">ä¸åŒå°ºå¯¸</h2>
      <div class="art-card-sm p-5">
        <div class="space-y-4">
          <div>
            <div class="text-xs text-gray-600 dark:text-gray-400 mb-2">Largeï¼š</div>
            <div
              class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
              :style="{ width: containerWidth + 'px' }"
            >
              <ArtTextEllipsis :text="longText" size="large" />
            </div>
          </div>
          <div>
            <div class="text-xs text-gray-600 dark:text-gray-400 mb-2">Defaultï¼š</div>
            <div
              class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
              :style="{ width: containerWidth + 'px' }"
            >
              <ArtTextEllipsis :text="longText" size="default" />
            </div>
          </div>
          <div>
            <div class="text-xs text-gray-600 dark:text-gray-400 mb-2">Smallï¼š</div>
            <div
              class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
              :style="{ width: containerWidth + 'px' }"
            >
              <ArtTextEllipsis :text="longText" size="small" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ä¸åŒç±»å‹ -->
    <div class="mb-15">
      <h2 class="m-0 mb-6 text-xl font-medium">ä¸åŒç±»å‹</h2>
      <div class="art-card-sm p-5">
        <div class="space-y-3">
          <div class="flex items-start gap-4">
            <span class="text-sm text-gray-600 dark:text-gray-400 w-20 flex-shrink-0 pt-3"
              >Primaryï¼š</span
            >
            <div
              class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
              :style="{ width: containerWidth + 'px' }"
            >
              <ArtTextEllipsis :text="longText" type="primary" />
            </div>
          </div>
          <div class="flex items-start gap-4">
            <span class="text-sm text-gray-600 dark:text-gray-400 w-20 flex-shrink-0 pt-3"
              >Successï¼š</span
            >
            <div
              class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
              :style="{ width: containerWidth + 'px' }"
            >
              <ArtTextEllipsis :text="longText" type="success" />
            </div>
          </div>
          <div class="flex items-start gap-4">
            <span class="text-sm text-gray-600 dark:text-gray-400 w-20 flex-shrink-0 pt-3"
              >Warningï¼š</span
            >
            <div
              class="border border-gray-200 dark:border-gray-700 rounded p-3 bg-gray-50 dark:bg-gray-800 transition-all duration-300"
              :style="{ width: containerWidth + 'px' }"
            >
              <ArtTextEllipsis :text="longText" type="warning" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ä»£ç ç¤ºä¾‹ -->
    <div class="mb-15">
      <h2 class="m-0 mb-6 text-xl font-medium">ä»£ç ç¤ºä¾‹</h2>
      <div class="art-card-sm p-5">
        <div class="space-y-4">
          <div>
            <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">å•è¡Œçœç•¥</h3>
            <div
              class="bg-gray-900 dark:bg-gray-800 text-gray-100 dark:text-gray-200 p-4 rounded-lg font-mono text-sm overflow-x-auto"
            >
              <pre><code>&lt;ArtTextEllipsis :text="longText" /&gt;</code></pre>
            </div>
          </div>

          <div>
            <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">å¤šè¡Œçœç•¥</h3>
            <div
              class="bg-gray-900 dark:bg-gray-800 text-gray-100 dark:text-gray-200 p-4 rounded-lg font-mono text-sm overflow-x-auto"
            >
              <pre><code>&lt;ArtTextEllipsis 
  :text="longText" 
  multiline 
  :line-clamp="3" 
/&gt;</code></pre>
            </div>
          </div>

          <div>
            <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >è‡ªå®šä¹‰æ ·å¼å’Œ Tooltip</h3
            >
            <div
              class="bg-gray-900 dark:bg-gray-800 text-gray-100 dark:text-gray-200 p-4 rounded-lg font-mono text-sm overflow-x-auto"
            >
              <pre><code>&lt;ArtTextEllipsis 
  :text="longText" 
  type="primary"
  size="large"
  tooltip-placement="bottom"
  :tooltip-max-width="500"
/&gt;</code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- API æ–‡æ¡£ -->
    <div class="mb-15">
      <h2 class="m-0 mb-6 text-xl font-medium">API æ–‡æ¡£</h2>
      <div class="art-card-sm p-5">
        <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Props</h3>
        <ElTable :data="apiData" border style="width: 100%">
          <ElTableColumn prop="name" label="å±æ€§å" width="180" />
          <ElTableColumn prop="type" label="ç±»å‹" width="150" />
          <ElTableColumn prop="default" label="é»˜è®¤å€¼" width="120" />
          <ElTableColumn prop="description" label="è¯´æ˜" min-width="200" />
        </ElTable>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
  import { ref } from 'vue'
  import { ElTable, ElTableColumn, ElSlider } from 'element-plus'
  import ArtTextEllipsis from '@/components/core/base/art-text-ellipsis/index.vue'

  defineOptions({ name: 'WidgetsTextEllipsis' })

  // å®¹å™¨å®½åº¦æ§åˆ¶
  const containerWidth = ref(300)
  const multilineWidth = ref(500)

  // ç¤ºä¾‹æ–‡æœ¬
  const longText = ref(
    'è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡æœ¬å†…å®¹ï¼Œç”¨äºæ¼”ç¤ºæ–‡æœ¬çœç•¥åŠŸèƒ½ã€‚å½“æ–‡æœ¬è¶…å‡ºå®¹å™¨å®½åº¦æ—¶ï¼Œä¼šè‡ªåŠ¨çœç•¥å¹¶æ˜¾ç¤ºçœç•¥å·ï¼Œé¼ æ ‡æ‚¬åœæ—¶ä¼šæ˜¾ç¤ºå®Œæ•´å†…å®¹çš„ Tooltip æç¤ºã€‚'
  )

  const veryLongText = ref(
    'è¿™æ˜¯ä¸€æ®µéå¸¸é•¿çš„æ–‡æœ¬å†…å®¹ï¼Œç”¨äºæ¼”ç¤ºå¤šè¡Œæ–‡æœ¬çœç•¥åŠŸèƒ½ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨æœ‰é™çš„ç©ºé—´å†…å±•ç¤ºå¤§é‡æ–‡æœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚æ–‡ç« æ‘˜è¦ã€å•†å“æè¿°ã€ç”¨æˆ·è¯„è®ºç­‰åœºæ™¯ã€‚é€šè¿‡å¤šè¡Œçœç•¥åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜é›…åœ°å¤„ç†è¿™äº›é•¿æ–‡æœ¬ï¼Œæ—¢ä¿è¯äº†ç•Œé¢çš„æ•´æ´ç¾è§‚ï¼Œåˆä¸ä¼šä¸¢å¤±é‡è¦ä¿¡æ¯ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡é¼ æ ‡æ‚¬åœæŸ¥çœ‹å®Œæ•´å†…å®¹ï¼Œæä¾›äº†è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚è¿™ä¸ªç»„ä»¶åŸºäº Element Plus çš„ Text ç»„ä»¶å’Œ VueTippy å®ç°ï¼Œæ”¯æŒçµæ´»çš„é…ç½®é€‰é¡¹ï¼Œå¯ä»¥æ»¡è¶³å„ç§ä¸šåŠ¡åœºæ™¯çš„éœ€æ±‚ã€‚'
  )

  // API æ–‡æ¡£æ•°æ®
  const apiData = ref([
    {
      name: 'text',
      type: 'string',
      default: "''",
      description: 'æ–‡æœ¬å†…å®¹'
    },
    {
      name: 'type',
      type: 'string',
      default: 'default',
      description: 'æ–‡æœ¬ç±»å‹ï¼šprimary / success / warning / danger / info / default'
    },
    {
      name: 'size',
      type: 'string',
      default: 'default',
      description: 'æ–‡æœ¬å¤§å°ï¼šlarge / default / small'
    },
    {
      name: 'tag',
      type: 'string',
      default: 'span',
      description: 'æ¸²æŸ“çš„ HTML æ ‡ç­¾'
    },
    {
      name: 'multiline',
      type: 'boolean',
      default: 'false',
      description: 'æ˜¯å¦å¤šè¡Œçœç•¥'
    },
    {
      name: 'lineClamp',
      type: 'number',
      default: '2',
      description: 'å¤šè¡Œçœç•¥çš„è¡Œæ•°'
    },
    {
      name: 'tooltipPlacement',
      type: 'string',
      default: 'top',
      description: 'Tooltip ä½ç½®ï¼štop / bottom / left / right ç­‰'
    },
    {
      name: 'tooltipTheme',
      type: 'string',
      default: 'light',
      description: 'Tooltip ä¸»é¢˜ï¼šlight / dark'
    },
    {
      name: 'tooltipMaxWidth',
      type: 'number | string',
      default: '400',
      description: 'Tooltip æœ€å¤§å®½åº¦'
    },
    {
      name: 'tooltipDelay',
      type: 'number | [number, number]',
      default: '200',
      description: 'Tooltip å»¶è¿Ÿæ˜¾ç¤ºæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰'
    },
    {
      name: 'textClass',
      type: 'string',
      default: "''",
      description: 'è‡ªå®šä¹‰ç±»å'
    }
  ])
</script>

<style scoped>
  @reference '@styles/core/tailwind.css';
</style>
